import{j as e,C as me,u as de,a as Z,F as Q,T as V,O as ue,S as he,A as R,b as O,H as pe,D as ge,c as xe}from"./three-C0Oi5tdp.js";import{r as p,R as fe}from"./vendor-DsceW-4w.js";import{A as D,m as y}from"./motion-xQa0qsKv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),C=(r,t)=>{const o=p.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:m,...l},u)=>p.createElement("svg",{ref:u,...ye,width:a,height:a,stroke:s,strokeWidth:i?Number(n)*24/Number(a):n,className:["lucide",`lucide-${be(r)}`,c].join(" "),...l},[...t.map(([d,h])=>p.createElement(d,h)),...Array.isArray(m)?m:[m]]));return o.displayName=`${r}`,o};/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=C("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=C("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=C("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=C("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=C("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=C("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=C("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=C("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=C("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=C("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=C("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=C("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=C("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=C("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=C("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=C("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=C("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=C("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);let Ie=class{constructor(){this.nasaAPIKey="DEMO_KEY",this.ipGeolocationKey="YOUR_KEY",this.cache=new Map,this.nasaURL="https://api.nasa.gov/planetary/apod",this.ipGeoURL="https://api.ipgeolocation.io/astronomy",this.astronomyURL="https://api.astronomyapi.com/api/v1",this.hipparcosStars=this.loadHipparcosData(),this.starCache=new Map,this.constellationCache=new Map}loadHipparcosData(){return[{hip:677,name:"Alpheratz",ra:2.097,dec:29.09,mag:2.06,spectrum:"B8IVpMnHg",constellation:"Andromeda"},{hip:746,name:"Caph",ra:2.294,dec:59.15,mag:2.27,spectrum:"F2III-IV",constellation:"Cassiopeia"},{hip:1067,name:"Algenib",ra:3.308,dec:15.183,mag:2.83,spectrum:"B2IV",constellation:"Pegasus"},{hip:3179,name:"Schedar",ra:10.127,dec:56.537,mag:2.23,spectrum:"K0IIIa",constellation:"Cassiopeia"},{hip:3419,name:"Mirach",ra:11.221,dec:35.62,mag:2.06,spectrum:"M0+IIIab",constellation:"Andromeda"},{hip:4427,name:"Gamma Cas",ra:14.177,dec:60.717,mag:2.47,spectrum:"B0.5IVe",constellation:"Cassiopeia"},{hip:5447,name:"Diphda",ra:17.574,dec:-17.987,mag:2.04,spectrum:"K0III",constellation:"Cetus"},{hip:7588,name:"Almaak",ra:24.499,dec:42.329,mag:2.26,spectrum:"K3-IIb",constellation:"Andromeda"},{hip:8645,name:"Hamal",ra:31.793,dec:23.463,mag:2,spectrum:"K2IIICa-1",constellation:"Aries"},{hip:9884,name:"Polaris",ra:37.954,dec:89.264,mag:1.98,spectrum:"F7:Ib-IIv",constellation:"Ursa Minor"},{hip:11767,name:"Sheratan",ra:28.66,dec:20.808,mag:2.64,spectrum:"A5V",constellation:"Aries"},{hip:14135,name:"Mira",ra:34.837,dec:-2.978,mag:3.04,spectrum:"M7IIIe",constellation:"Cetus"},{hip:15863,name:"Aldebaran",ra:68.98,dec:16.509,mag:.85,spectrum:"K5+III",constellation:"Taurus"},{hip:17702,name:"Rigel",ra:78.634,dec:-8.202,mag:.13,spectrum:"B8Ia",constellation:"Orion"},{hip:21421,name:"Elnath",ra:81.573,dec:28.608,mag:1.68,spectrum:"B7III",constellation:"Taurus"},{hip:24436,name:"Capella",ra:79.172,dec:45.998,mag:.08,spectrum:"G5III+G0III",constellation:"Auriga"},{hip:25336,name:"Bellatrix",ra:81.283,dec:6.35,mag:1.64,spectrum:"B2III",constellation:"Orion"},{hip:25428,name:"Mintaka",ra:83.002,dec:-.299,mag:2.23,spectrum:"O9.5II",constellation:"Orion"},{hip:25930,name:"Alnilam",ra:84.053,dec:-1.202,mag:1.7,spectrum:"B0Ia",constellation:"Orion"},{hip:26311,name:"Alnitak",ra:85.19,dec:-1.943,mag:1.77,spectrum:"O9.5Ib",constellation:"Orion"},{hip:27989,name:"Betelgeuse",ra:88.793,dec:7.407,mag:.42,spectrum:"M1-M2Ia-Iab",constellation:"Orion"},{hip:30438,name:"Canopus",ra:95.988,dec:-52.696,mag:-.74,spectrum:"A9II",constellation:"Carina"},{hip:32349,name:"Sirius",ra:101.287,dec:-16.716,mag:-1.46,spectrum:"A1V",constellation:"Canis Major"},{hip:34444,name:"Procyon",ra:114.825,dec:5.225,mag:.34,spectrum:"F5IV-V",constellation:"Canis Minor"},{hip:37279,name:"Pollux",ra:116.329,dec:28.026,mag:1.14,spectrum:"K0IIIb",constellation:"Gemini"},{hip:36850,name:"Castor",ra:113.65,dec:31.888,mag:1.57,spectrum:"A1V+A2Vm",constellation:"Gemini"},{hip:49669,name:"Regulus",ra:152.093,dec:11.967,mag:1.35,spectrum:"B8IVn",constellation:"Leo"},{hip:65474,name:"Spica",ra:201.298,dec:-11.161,mag:.97,spectrum:"B1III-IV+B2V",constellation:"Virgo"},{hip:69673,name:"Arcturus",ra:213.915,dec:19.182,mag:-.05,spectrum:"K1.5IIIFe-0.5",constellation:"Boötes"},{hip:80763,name:"Antares",ra:247.352,dec:-26.432,mag:1.09,spectrum:"M1.5Iab-Ib",constellation:"Scorpius"},{hip:91262,name:"Vega",ra:279.234,dec:38.784,mag:.03,spectrum:"A0Va",constellation:"Lyra"},{hip:97649,name:"Altair",ra:297.696,dec:8.868,mag:.77,spectrum:"A7V",constellation:"Aquila"},{hip:102098,name:"Deneb",ra:310.358,dec:45.28,mag:1.25,spectrum:"A2Ia",constellation:"Cygnus"},{hip:113963,name:"Fomalhaut",ra:344.413,dec:-29.622,mag:1.16,spectrum:"A3Va",constellation:"Piscis Austrinus"}]}async getUserLocationPrecise(){const t="precise_location";if(this.cache.has(t))return this.cache.get(t);try{const o=await this.getNavigatorLocation(),a=await(await fetch(`${this.ipGeoURL}?apiKey=${this.ipGeolocationKey}&lat=${o.latitude}&long=${o.longitude}`)).json(),n={latitude:o.latitude,longitude:o.longitude,city:a.city||"Localização",country:a.country_name||"Terra",timezone:a.timezone_name||"UTC",sunrise:a.sunrise,sunset:a.sunset,moonrise:a.moonrise,moonset:a.moonset,moon_phase:a.moon_phase};return this.cache.set(t,n),n}catch(o){return console.log("Usando localização fallback:",o),this.getFallbackLocation()}}getNavigatorLocation(){return new Promise((t,o)=>{navigator.geolocation||o(new Error("Geolocalização não suportada")),navigator.geolocation.getCurrentPosition(s=>t({latitude:s.coords.latitude,longitude:s.coords.longitude}),s=>o(s),{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})}async generateRealisticSky(t,o){const s=`realistic_sky_${t.toISOString().split("T")[0]}_${Math.round(o.latitude)}_${Math.round(o.longitude)}`;if(this.starCache.has(s))return this.starCache.get(s);const a=this.dateToJulian(t),n=this.calculateLocalSiderealTime(a,o.longitude),i=this.hipparcosStars.map(l=>{const u=this.calculateStarPosition(l,n,o.latitude);return{...l,position:u.position,visible:u.altitude>-10,altitude:u.altitude,azimuth:u.azimuth,brightness:this.magnitudeToBrightness(l.mag),color:this.spectrumToColor(l.spectrum),size:this.magnitudeToSize(l.mag)}}).filter(l=>l.visible),c=this.generateBackgroundStars(1500,n,o.latitude),m=[...i,...c];return this.starCache.set(s,m),m}generateBackgroundStars(t,o,s){const a=[];for(let n=0;n<t;n++){const i=this.generateRealisticMagnitude(),c=Math.random()*24,m=(Math.random()-.5)*180,l=this.calculateStarPosition({ra:c,dec:m},o,s);l.altitude>-5&&a.push({hip:1e5+n,name:`Star${n}`,ra:c,dec:m,mag:i,position:l.position,visible:!0,altitude:l.altitude,azimuth:l.azimuth,brightness:this.magnitudeToBrightness(i),color:this.generateRealisticColor(),size:this.magnitudeToSize(i),constellation:"Background"})}return a}generateRealisticMagnitude(){const t=Math.random();return t<.01?1+Math.random()*2:t<.05?3+Math.random()*1:t<.2?4+Math.random()*1:5+Math.random()*2}generateRealisticColor(){const t=["#9BB0FF","#AABFFF","#CAD7FF","#F8F7FF","#FFF4EA","#FFCC6F","#FF9500"],o=[3e-5,.13,.6,3,7.6,12.1,76.45],s=Math.random()*100;let a=0;for(let n=0;n<o.length;n++)if(a+=o[n],s<=a)return t[n];return t[t.length-1]}magnitudeToBrightness(t){return Math.max(0,Math.min(1,(6-t)/8))}magnitudeToSize(t){return t<0?3:t<1?2.5:t<2?2:t<3?1.5:t<4?1.2:t<5?1:.8}spectrumToColor(t){const o=t[0];return{O:"#9BB0FF",B:"#AABFFF",A:"#CAD7FF",F:"#F8F7FF",G:"#FFF4EA",K:"#FFCC6F",M:"#FF9500"}[o]||"#FFFFFF"}async getRealPlanetData(t,o){const s=`planets_real_${t.toISOString().split("T")[0]}`;if(this.cache.has(s))return this.cache.get(s);try{const a=await this.calculatePlanetaryPositions(t,o);return this.cache.set(s,a),a}catch(a){return console.log("Usando dados planetários padrão:",a),this.getDefaultPlanetData(t,o)}}async calculatePlanetaryPositions(t,o){const s=this.dateToJulian(t),a=(s-2451545)/36525,n=this.calculateLocalSiderealTime(s,o.longitude),i=[],c={Mercury:{L0:252.2503235,L1:149472.67411175,a:.387098,e:.205635,i:7.005,color:"#8C7853"},Venus:{L0:181.97980085,L1:58517.81538729,a:.723332,e:.006773,i:3.39458,color:"#FFC649"},Mars:{L0:355.43299958,L1:19140.30268499,a:1.523688,e:.093405,i:1.84969,color:"#CD5C5C"},Jupiter:{L0:34.39644051,L1:3034.90567464,a:5.202887,e:.048775,i:1.30327,color:"#D8CA9D"},Saturn:{L0:50.07571329,L1:1222.11494724,a:9.536676,e:.055723,i:2.48599,color:"#FAD5A5"}};for(const[m,l]of Object.entries(c))try{const u=(l.L0+l.L1*a)%360,d=this.calculatePlanetPosition(u,l,n,o.latitude);d.altitude>-5&&i.push({name:m,position:d.position,color:l.color,magnitude:this.calculatePlanetMagnitude(m,d.distance),visible:!0,altitude:d.altitude,azimuth:d.azimuth,distance:d.distance,type:"planet"})}catch(u){console.log(`Erro calculando ${m}:`,u)}return i}calculatePlanetMagnitude(t,o){return({Mercury:-.4,Venus:-4.4,Mars:-2.9,Jupiter:-2.9,Saturn:-.3}[t]||0)+5*Math.log10(o/1)}async getRealNebulaData(t,o){const s=[{name:"M1 - Nebulosa do Caranguejo",ra:5.575,dec:22.017,type:"supernova",magnitude:8.4},{name:"M8 - Nebulosa da Lagoa",ra:18.067,dec:-24.383,type:"emission",magnitude:6},{name:"M16 - Nebulosa da Águia",ra:18.308,dec:-13.817,type:"emission",magnitude:6.4},{name:"M17 - Nebulosa Ômega",ra:18.342,dec:-16.183,type:"emission",magnitude:7},{name:"M20 - Nebulosa Trífida",ra:18.033,dec:-23.033,type:"emission",magnitude:9},{name:"M27 - Nebulosa Dumbell",ra:19.992,dec:22.717,type:"planetary",magnitude:7.5},{name:"M42 - Nebulosa de Orion",ra:5.583,dec:-5.391,type:"emission",magnitude:4},{name:"M43 - Nebulosa De Mairan",ra:5.592,dec:-5.267,type:"emission",magnitude:9},{name:"M57 - Nebulosa do Anel",ra:18.887,dec:33.033,type:"planetary",magnitude:8.8},{name:"M78 - Nebulosa de Reflexão",ra:5.783,dec:.067,type:"reflection",magnitude:8.3}],a=this.dateToJulian(t),n=this.calculateLocalSiderealTime(a,o.longitude);return s.map(i=>{const c=this.calculateStarPosition(i,n,o.latitude);return{...i,position:c.position,visible:c.altitude>0&&i.magnitude<9,altitude:c.altitude,azimuth:c.azimuth,color:this.getNebulaColor(i.type),size:this.getNebulaSizeFromMagnitude(i.magnitude)}}).filter(i=>i.visible)}getNebulaColor(t){return{emission:"#FF6B9D",planetary:"#40E0D0",reflection:"#87CEEB",supernova:"#FFD700",dark:"#2F2F2F"}[t]||"#8A2BE2"}getNebulaSizeFromMagnitude(t){return Math.max(.5,(10-t)/2)}async getPreciseMoonData(t,o){const s=`moon_precise_${t.toISOString().split("T")[0]}`;if(this.cache.has(s))return this.cache.get(s);const a=this.calculatePreciseMoonPosition(t,o);return this.cache.set(s,a),a}calculatePreciseMoonPosition(t,o){const s=this.dateToJulian(t),a=(s-2451545)/36525,n=this.calculateLocalSiderealTime(s,o.longitude),i=(218.3164591+481267.88134236*a-.0013268*a*a)%360,c=(134.9634114+477198.8676313*a+.008997*a*a)%360,m=c*Math.PI/180,l=1.274*Math.sin((2*i-c)*Math.PI/180),u=.658*Math.sin(2*i*Math.PI/180),d=-.186*Math.sin(m),h=i+l+u+d,g=(93.2720993+483202.0175273*a-.0034029*a*a)%360,b=5.128*Math.sin(g*Math.PI/180),v=23.4393-4e-7*a,j=h*Math.PI/180,x=b*Math.PI/180,f=v*Math.PI/180,I=Math.atan2(Math.sin(j)*Math.cos(f)-Math.tan(x)*Math.sin(f),Math.cos(j))*180/Math.PI/15,w=Math.asin(Math.sin(x)*Math.cos(f)+Math.cos(x)*Math.sin(f)*Math.sin(j))*180/Math.PI,M=this.calculateStarPosition({ra:I,dec:w},n,o.latitude),F=this.calculateMoonPhase(s);return{position:M.position,altitude:M.altitude,azimuth:M.azimuth,phase:F.illumination,phaseName:F.phaseName,age:F.age,visible:M.altitude>-6,distance:384400,angularSize:.52}}calculateMoonPhase(t){const o=24515501e-1,s=29.53058868,n=(t-o)/s,i=n-Math.floor(n),c=i*s,m=.5*(1-Math.cos(2*Math.PI*i));let l;return c<1.84566?l="Nova":c<5.53699?l="Crescente":c<9.22831?l="Quarto Crescente":c<12.91963?l="Gibosa Crescente":c<16.61096?l="Cheia":c<20.30228?l="Gibosa Minguante":c<23.99361?l="Quarto Minguante":c<27.68493?l="Minguante":l="Nova",{illumination:m,phaseName:l,age:c}}async getDayNightMode(t,o){const s=await this.calculatePreciseSunPosition(t,o);return s.altitude>6?"day":s.altitude>-6?"twilight":s.altitude>-12?"nautical_twilight":s.altitude>-18?"astronomical_twilight":"night"}async calculatePreciseSunPosition(t,o){const s=this.dateToJulian(t),a=(s-2451545)/36525,n=this.calculateLocalSiderealTime(s,o.longitude),i=(280.46646+36000.76983*a+3032e-7*a*a)%360,m=(357.52911+35999.05029*a-1537e-7*a*a)%360*Math.PI/180,l=(1.914602-.004817*a-14e-6*a*a)*Math.sin(m)+(.019993-101e-6*a)*Math.sin(2*m)+289e-6*Math.sin(3*m),u=i+l,h=(23.439291-.0130042*a-164e-8*a*a+504e-9*a*a*a)*Math.PI/180,g=u*Math.PI/180,b=Math.atan2(Math.cos(h)*Math.sin(g),Math.cos(g))*180/Math.PI/15,v=Math.asin(Math.sin(h)*Math.sin(g))*180/Math.PI;return this.calculateStarPosition({ra:b,dec:v},n,o.latitude)}dateToJulian(t){const o=Math.floor((14-(t.getMonth()+1))/12),s=t.getFullYear()+4800-o,a=t.getMonth()+1+12*o-3;let n=t.getDate()+Math.floor((153*a+2)/5)+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)-32045;const i=t.getHours()+t.getMinutes()/60+t.getSeconds()/3600;return n+(i-12)/24}calculateLocalSiderealTime(t,o){const s=(t-2451545)/36525;return(280.46061837+360.98564736629*(t-2451545)+387933e-9*s*s-s*s*s/3871e4+o)%360/15}calculateStarPosition(t,o,s){const a=(o-t.ra)*15,n=s*Math.PI/180,i=t.dec*Math.PI/180,c=a*Math.PI/180,m=Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos(c),l=Math.asin(Math.max(-1,Math.min(1,m)))*180/Math.PI,u=(Math.sin(i)-Math.sin(n)*m)/(Math.cos(n)*Math.cos(Math.asin(m)));let d=Math.acos(Math.max(-1,Math.min(1,u)))*180/Math.PI;Math.sin(c)>0&&(d=360-d);const h=20,g=l*Math.PI/180,b=(d-180)*Math.PI/180,v=h*Math.cos(g)*Math.sin(b),j=h*Math.sin(g),x=-h*Math.cos(g)*Math.cos(b);return{position:[v,j,x],altitude:l,azimuth:d,distance:h}}calculatePlanetPosition(t,o,s,a){const i=t*Math.PI/180,c=23.4393*Math.PI/180,m=Math.atan2(Math.sin(i)*Math.cos(c),Math.cos(i))*180/Math.PI/15,l=Math.asin(Math.sin(i)*Math.sin(c))*180/Math.PI;return{...this.calculateStarPosition({ra:m,dec:l},s,a),distance:o.a}}getFallbackLocation(){return{latitude:-3.5133,longitude:-39.5781,city:"Itapipoca",country:"Brasil"}}getDefaultPlanetData(t,o){return[{name:"Venus",position:[5,2,-8],color:"#FFC649",magnitude:-4,visible:!0,type:"planet"},{name:"Mars",position:[-7,1,-6],color:"#CD5C5C",magnitude:.7,visible:!0,type:"planet"},{name:"Jupiter",position:[3,4,-12],color:"#D8CA9D",magnitude:-2.2,visible:!0,type:"planet"},{name:"Saturn",position:[-4,3,-10],color:"#FAD5A5",magnitude:.4,visible:!0,type:"planet"}]}getStarsWithMessages(){return["Vega","Sirius","Polaris","Betelgeuse","Rigel","Aldebaran","Capella","Arcturus","Spica","Antares","Altair","Deneb","Pollux","Castor","Regulus","Procyon","Canopus","Fomalhaut"]}hasSpecialMessage(t){return this.getStarsWithMessages().includes(t)}};const A=new Ie,Se=({star:r,isSpecial:t,isDiscovered:o,onClick:s,dayNightMode:a,showLabels:n})=>{const i=p.useRef(),c=p.useRef(),[m,l]=p.useState(!1),u=p.useMemo(()=>{const d=r.brightness||.5;return a==="day"?r.mag<1?d*.3:0:d},[r.brightness,r.mag,a]);return a==="day"&&r.mag>1||(O(d=>{if(i.current&&u>0){const h=1+Math.sin(d.clock.elapsedTime*3+r.hip*.01)*.1*u;if(i.current.scale.setScalar(r.size*h*(m?1.5:1)),t&&!o){const g=1+Math.sin(d.clock.elapsedTime*2)*.3;i.current.material.opacity=u*.8*g}else i.current.material.opacity=u*(m?1:.8);if(c.current&&o){const g=1+Math.sin(d.clock.elapsedTime*1.5)*.2;c.current.scale.setScalar(r.size*3*g)}}}),u<=0)?null:e.jsxs("group",{position:r.position,children:[e.jsxs("mesh",{ref:i,onClick:()=>s(r.name),onPointerOver:()=>l(!0),onPointerOut:()=>l(!1),children:[e.jsx("sphereGeometry",{args:[.03,8,8]}),e.jsx("meshBasicMaterial",{color:o?"#FFD700":t?"#FF69B4":r.color,transparent:!0,opacity:u*.8})]}),r.mag<2&&e.jsxs(e.Fragment,{children:[e.jsxs("mesh",{rotation:[0,0,0],scale:[r.size*4,.02,1],children:[e.jsx("planeGeometry",{args:[1,1]}),e.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:u*.3,blending:R})]}),e.jsxs("mesh",{rotation:[0,0,Math.PI/2],scale:[r.size*4,.02,1],children:[e.jsx("planeGeometry",{args:[1,1]}),e.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:u*.3,blending:R})]})]}),o&&e.jsxs("mesh",{ref:c,scale:r.size*3,children:[e.jsx("sphereGeometry",{args:[.1,16,16]}),e.jsx("meshBasicMaterial",{color:"#FFD700",transparent:!0,opacity:.2,blending:R})]}),t&&!o&&e.jsxs("mesh",{position:[0,r.size*2,0],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshBasicMaterial",{color:"#FF69B4",transparent:!0,opacity:.6})]}),(m||o||n&&r.mag<2)&&e.jsxs(V,{position:[0,r.size*3,0],fontSize:.3,color:o?"#FFD700":t?"#FF69B4":"#FFFFFF",anchorX:"center",anchorY:"middle",outlineWidth:.03,outlineColor:"#000000",children:[r.name,r.constellation&&r.constellation!=="Background"&&e.jsx("meshBasicMaterial",{attach:"material",color:r.color})]}),m&&e.jsx(pe,{position:[r.size*4,r.size*2,0],center:!0,children:e.jsxs("div",{className:"glass-effect rounded-lg p-2 text-xs max-w-48 pointer-events-none",children:[e.jsx("div",{className:"font-semibold",children:r.name}),r.constellation!=="Background"&&e.jsxs("div",{className:"text-gray-300",children:["Constelação: ",r.constellation]}),e.jsxs("div",{className:"text-gray-300",children:["Magnitude: ",r.mag?.toFixed(2)]}),r.spectrum&&e.jsxs("div",{className:"text-gray-300",children:["Classe: ",r.spectrum]}),t&&e.jsx("div",{className:"text-pink-400 font-medium",children:"✨ Mensagem Especial"})]})})]})},Fe=({planet:r,onClick:t,isDiscovered:o,dayNightMode:s})=>{const a=p.useRef(),[n,i]=p.useState(!1);O(m=>{if(a.current){a.current.rotation.y=m.clock.elapsedTime*.1;const l=s==="day"?.9:.7;a.current.material.opacity=l*(n?1:.8)}});const c=.2+(3-Math.abs(r.magnitude))*.05;return e.jsxs("group",{position:r.position,children:[e.jsxs("mesh",{ref:a,onClick:()=>t(r.name),onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),scale:n?c*1.3:c,children:[e.jsx("sphereGeometry",{args:[1,16,16]}),e.jsx("meshBasicMaterial",{color:o?"#FFD700":r.color,transparent:!0,opacity:.8})]}),r.name==="Saturn"&&e.jsxs("mesh",{rotation:[Math.PI/2,0,0],scale:c*1.8,children:[e.jsx("ringGeometry",{args:[1.2,2,32]}),e.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:.6,side:ge})]}),e.jsxs("mesh",{scale:c*2,children:[e.jsx("sphereGeometry",{args:[1,16,16]}),e.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:.2,blending:R})]}),(n||o)&&e.jsx(V,{position:[0,c+1,0],fontSize:.4,color:o?"#FFD700":"#FFFFFF",anchorX:"center",anchorY:"middle",outlineWidth:.03,outlineColor:"#000000",children:r.name})]})},Pe=({moonData:r,onClick:t,isDiscovered:o,dayNightMode:s})=>{const a=p.useRef(),n=p.useRef(),[i,c]=p.useState(!1);if(O(l=>{if(a.current){a.current.rotation.y=l.clock.elapsedTime*.05;const u=s==="day"?.6:1;a.current.material.opacity=u*.9}}),!r.visible)return null;const m=.4;return e.jsxs("group",{position:r.position,children:[e.jsxs("mesh",{ref:a,onClick:()=>t("Moon"),onPointerOver:()=>c(!0),onPointerOut:()=>c(!1),scale:i?m*1.2:m,children:[e.jsx("sphereGeometry",{args:[1,32,32]}),e.jsx("meshBasicMaterial",{color:o?"#E8EAF6":"#F5F5F5",transparent:!0,opacity:.9})]}),e.jsxs("mesh",{ref:n,position:[m*.1,0,m*.9],scale:m,children:[e.jsx("sphereGeometry",{args:[1,32,32]}),e.jsx("meshBasicMaterial",{color:"#0A0A0A",transparent:!0,opacity:1-r.phase})]}),e.jsxs("mesh",{scale:m*2.5,children:[e.jsx("sphereGeometry",{args:[1,16,16]}),e.jsx("meshBasicMaterial",{color:"#E8EAF6",transparent:!0,opacity:.1*r.phase,blending:R})]}),e.jsxs("mesh",{position:[m*.3,m*.2,m*.8],scale:.08,children:[e.jsx("sphereGeometry",{args:[1,8,8]}),e.jsx("meshBasicMaterial",{color:"#D1C4E9",transparent:!0,opacity:.6})]}),(i||o)&&e.jsxs(V,{position:[0,m+1.5,0],fontSize:.4,color:o?"#E8EAF6":"#FFFFFF",anchorX:"center",anchorY:"middle",outlineWidth:.03,outlineColor:"#000000",children:["Lua (",r.phaseName,")",`
`,Math.round(r.phase*100),"% iluminada"]})]})},Ae=({nebula:r,onClick:t,isDiscovered:o,dayNightMode:s})=>{const a=p.useRef(),[n,i]=p.useState(!1);return s==="day"?null:(O(c=>{if(a.current){a.current.rotation.z=c.clock.elapsedTime*.05;const m=1+Math.sin(c.clock.elapsedTime*.8)*.1;a.current.material.opacity=.4*m}}),e.jsxs("group",{position:r.position,children:[e.jsxs("mesh",{ref:a,onClick:()=>t(r.name),onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),scale:r.size,children:[r.type==="planetary"?e.jsx("torusGeometry",{args:[.8,.3,16,32]}):e.jsx("sphereGeometry",{args:[1,16,16]}),e.jsx("meshBasicMaterial",{color:o?"#FFD700":r.color,transparent:!0,opacity:.4,blending:R})]}),e.jsxs("mesh",{scale:r.size*1.5,children:[e.jsx("sphereGeometry",{args:[1,16,16]}),e.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:.1,blending:R})]}),(n||o)&&e.jsxs(V,{position:[0,r.size+.8,0],fontSize:.25,color:o?"#FFD700":"#FFFFFF",anchorX:"center",anchorY:"middle",outlineWidth:.02,outlineColor:"#000000",children:[r.name,`
`,"Mag: ",r.magnitude?.toFixed(1)]})]}))},ke=({onStarClick:r,discoveredMessages:t,specialDate:o,dayNightMode:s,location:a,showLabels:n,filterMagnitude:i})=>{const{camera:c,scene:m}=de(),[l,u]=p.useState([]),[d,h]=p.useState([]),[g,b]=p.useState([]),[v,j]=p.useState(null),[x,f]=p.useState(!0),I=A.getStarsWithMessages();p.useEffect(()=>{c.position.set(0,0,10),c.lookAt(0,0,0)},[c]),p.useEffect(()=>{(async()=>{if(a){f(!0);try{const F=await A.generateRealisticSky(o,a);u(F);const E=await A.getRealPlanetData(o,a);h(E);const G=await A.getRealNebulaData(o,a);b(G);const $=await A.getPreciseMoonData(o,a);j($)}catch(F){console.error("Erro carregando céu realístico:",F)}finally{f(!1)}}})()},[o,a]);const w=p.useMemo(()=>l.filter(M=>M.mag<=i),[l,i]);return p.useEffect(()=>{s==="day"?(m.background=new Z(8900331),m.fog=new Q(8900331,15,40)):(m.background=new Z(17),m.fog=new Q(17,25,80))},[s,m]),x?e.jsx("group",{children:e.jsxs(V,{position:[0,0,-5],fontSize:.8,color:"#FFFFFF",anchorX:"center",anchorY:"middle",children:["Carregando céu real...",`
`,"Processando ",l.length||0," estrelas"]})}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{enableZoom:!0,enablePan:!0,enableRotate:!0,minDistance:3,maxDistance:30,autoRotate:s==="night",autoRotateSpeed:.2}),e.jsx(he,{radius:150,depth:60,count:s==="night"?12e3:1e3,factor:s==="night"?8:2,saturation:0,fade:!0,speed:.5}),s==="day"?e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:.9,color:"#FFF8DC"}),e.jsx("directionalLight",{position:[10,10,5],intensity:1.5,color:"#FFEB3B"})]}):e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:.2,color:"#E3F2FD"}),e.jsx("pointLight",{position:[0,10,10],intensity:.4,color:"#E3F2FD"})]}),w.map(M=>e.jsx(Se,{star:M,isSpecial:I.includes(M.name),isDiscovered:t.includes(M.name),onClick:r,dayNightMode:s,showLabels:n},M.hip)),d.map(M=>e.jsx(Fe,{planet:M,onClick:r,isDiscovered:t.includes(M.name),dayNightMode:s},M.name)),g.map(M=>e.jsx(Ae,{nebula:M,onClick:r,isDiscovered:t.includes(M.name),dayNightMode:s},M.name)),v&&e.jsx(Pe,{moonData:v,onClick:r,isDiscovered:t.includes("Moon"),dayNightMode:s}),s==="night"&&e.jsxs("mesh",{position:[0,0,-35],rotation:[0,0,Math.PI/8],scale:[40,6,1],children:[e.jsx("planeGeometry",{args:[1,1]}),e.jsx("meshBasicMaterial",{color:"#E1BEE7",transparent:!0,opacity:.15,blending:R})]})]})},ze=({onStarClick:r,discoveredMessages:t,specialDate:o,isMobile:s,dayNightMode:a,location:n})=>{const[i,c]=p.useState(!0),[m,l]=p.useState(!1),[u,d]=p.useState(6),[h,g]=p.useState(!1),b=x=>x.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),v=()=>a==="day"?"~100":u<=3?"~50":u<=4?"~150":u<=5?"~500":"~1500+",j=A.getStarsWithMessages().filter(x=>t.includes(x)).length;return e.jsxs("div",{className:"relative w-full h-screen",children:[e.jsx(me,{camera:{position:[0,0,10],fov:75},gl:{antialias:!0,alpha:!0},children:e.jsx(ke,{onStarClick:r,discoveredMessages:t,specialDate:o,dayNightMode:a,location:n,showLabels:m,filterMagnitude:u})}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsxs("div",{className:"absolute top-4 left-4 glass-effect rounded-2xl p-4 pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a==="day"?e.jsx(J,{className:"w-7 h-7 text-yellow-400"}):e.jsx(oe,{className:"w-7 h-7 text-blue-300"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-serif font-bold text-gradient",children:["Céu Real - ",a==="day"?"Diurno":"Noturno"]}),e.jsx("p",{className:"text-sm text-gray-400",children:b(o)})]})]}),n&&e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["📍 ",n.city,", ",n.country]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Estrelas visíveis: ",v()]})]}),e.jsxs("div",{className:"absolute top-4 right-4 pointer-events-auto",children:[e.jsx("button",{onClick:()=>g(!h),className:"glass-effect rounded-2xl p-3 hover:bg-white hover:bg-opacity-10 transition-all duration-200 mb-2",children:e.jsx(ee,{className:"w-6 h-6"})}),e.jsx(D,{children:h&&e.jsxs(y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"glass-effect rounded-2xl p-4 w-80 max-h-96 overflow-y-auto",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Controles do Céu"]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium",children:"Magnitude Limite:"}),e.jsx("span",{className:"text-sm text-gray-400",children:u.toFixed(1)})]}),e.jsx("input",{type:"range",min:"1",max:"7",step:"0.5",value:u,onChange:x=>d(parseFloat(x.target.value)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Menor = menos estrelas, mais brilhantes"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"Mostrar Nomes:"}),e.jsx("button",{onClick:()=>l(!m),className:`relative w-12 h-6 rounded-full transition-all duration-300 ${m?"bg-blue-500":"bg-gray-600"}`,children:e.jsx(y.div,{animate:{x:m?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"bg-black bg-opacity-20 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(B,{className:"w-4 h-4 text-pink-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Estrelas Especiais"})]}),e.jsxs("div",{className:"text-xs text-gray-300 mb-2",children:["Encontradas: ",j,"/",A.getStarsWithMessages().length]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Estrelas cor-de-rosa têm mensagens especiais escondidas!"})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Legenda:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-pink-400 rounded-full mr-2"}),e.jsx("span",{children:"Com mensagem"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),e.jsx("span",{children:"Descoberta"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-300 rounded-full mr-2"}),e.jsx("span",{children:"Estrelas classe O/B"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-white rounded-full mr-2"}),e.jsx("span",{children:"Estrelas classe A/F"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-200 rounded-full mr-2"}),e.jsx("span",{children:"Estrelas classe G"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full mr-2"}),e.jsx("span",{children:"Estrelas classe K/M"})]})]})]})]})})]}),i&&e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 glass-effect rounded-3xl p-6 max-w-lg pointer-events-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),e.jsxs("h3",{className:"text-2xl font-serif font-bold mb-4 text-gradient",children:["Céu Real de ",n?.city||"sua localização"]}),e.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:["Este é o céu real da noite de ",b(o),"! Baseado em dados astronômicos precisos do catálogo Hipparcos."]}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-400 mb-6",children:[e.jsx("p",{children:"✨ Estrelas rosa têm mensagens especiais"}),e.jsx("p",{children:"🌟 Mais de 1500 estrelas reais"}),e.jsx("p",{children:"🪐 Planetas em posições precisas"}),e.jsx("p",{children:"🌙 Lua com fase correta"}),e.jsx("p",{children:"🌌 Nebulosas do catálogo Messier"})]}),e.jsx("p",{className:"text-xs text-gray-400 mb-6",children:s?"Toque e arraste para explorar":"Clique e arraste para explorar"}),e.jsx("button",{onClick:()=>c(!1),className:"star-button px-6 py-3",children:"Explorar o Universo"})]})}),e.jsx("div",{className:"absolute bottom-4 left-4 glass-effect rounded-xl p-3 pointer-events-auto",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Modo:"}),e.jsx("span",{className:"font-medium",children:a==="day"?"Diurno":"Noturno"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Magnitude:"}),e.jsxs("span",{className:"font-medium",children:["≤ ",u.toFixed(1)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Descobertas:"}),e.jsx("span",{className:"font-medium text-yellow-400",children:t.length})]}),a==="night"&&e.jsx("div",{className:"text-xs text-gray-400 border-t border-gray-600 pt-2",children:"💡 Durante a noite você pode ver mais estrelas e nebulosas"})]})}),s&&e.jsx("div",{className:"absolute bottom-4 right-4 glass-effect rounded-xl p-3 pointer-events-auto",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("button",{onClick:()=>l(!m),className:`p-2 rounded-lg transition-all ${m?"bg-blue-500 text-white":"bg-gray-600 text-gray-300"}`,children:[e.jsx(se,{className:"w-4 h-4 mx-auto"}),e.jsx("div",{children:"Labels"})]}),e.jsxs("button",{onClick:()=>g(!h),className:"p-2 rounded-lg bg-gray-600 text-gray-300 hover:bg-gray-500 transition-all",children:[e.jsx(ee,{className:"w-4 h-4 mx-auto"}),e.jsx("div",{children:"Info"})]})]})}),e.jsx(D,{children:n===null&&e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 glass-effect rounded-2xl p-6 pointer-events-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-yellow-400 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-sm",children:"Obtendo sua localização..."}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Para um céu preciso"})]})})})]})]})},Te=({onStart:r,coupleNames:t,specialDate:o})=>{const s=n=>n.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}),a=Math.floor((new Date-o)/864e5);return e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col items-center justify-center text-center px-4",children:[e.jsxs(y.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8},className:"mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"✨"}),e.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-bold text-gradient mb-4",children:"Nosso Céu"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 font-light",children:"Um mapa estelar do nosso amor"})]}),e.jsxs(y.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1,duration:.8},className:"glass-effect rounded-3xl p-8 mb-8 max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("span",{className:"text-lg font-medium",children:t.person1}),e.jsx(L,{className:"w-6 h-6 text-red-400 mx-3 animate-pulse"}),e.jsx("span",{className:"text-lg font-medium",children:t.person2})]}),e.jsxs("div",{className:"flex items-center justify-center text-gray-300 mb-2",children:[e.jsx(te,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{children:["Desde ",s(o)]})]}),e.jsxs("div",{className:"text-star-gold font-semibold",children:[a," dias juntos ✨"]})]}),e.jsx(y.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.5,duration:.8},className:"max-w-2xl mb-8",children:e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Explore o céu da noite em que começamos nossa jornada juntos. Clique nas estrelas e constelações para descobrir mensagens especiais escondidas entre as estrelas... cada uma conta um pedacinho da nossa história."})}),e.jsxs(y.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:2,duration:.8},className:"flex flex-col md:flex-row gap-4 mb-8 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"w-4 h-4 mr-2 text-yellow-400"}),e.jsx("span",{children:"Clique nas estrelas"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-2 text-blue-400"}),e.jsx("span",{children:"Descubra mensagens escondidas"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"w-4 h-4 mr-2 text-red-400"}),e.jsx("span",{children:"Encontre a surpresa final"})]})]}),e.jsxs(y.button,{initial:{scale:0},animate:{scale:1},transition:{delay:2.5,duration:.5,type:"spring"},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"star-button text-lg px-8 py-4",children:[e.jsx(q,{className:"w-6 h-6 inline mr-2"}),"Explorar as Estrelas"]}),e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:3,duration:1},className:"mt-8 text-center",children:e.jsx("p",{className:"text-gray-500 italic text-sm",children:'"Clarisse, você é a estrela mais brilhante do meu universo, minha Cartwheel galaxy"'})})]})},De=({onBack:r,coupleNames:t,specialDate:o})=>{const[s,a]=p.useState(0),[n,i]=p.useState(!1),c=[{title:"Parabéns! 🎉",content:"Você encontrou todas as mensagens escondidas no nosso céu! Agora vem a parte mais especial...",emoji:"✨"},{title:"Nossa Jornada",content:"Cada estrela que você clicou representa um momento especial da nossa história. Mas o melhor ainda está por vir...",emoji:"🌟"},{title:"Surpresa Especial",content:"Preparei algo muito especial para você. Uma lembrança física do nosso amor que está esperando por você em um lugar especial...",emoji:"🎁"}],m={hint:"Procure no lugar onde compartilhamos nossa primeira refeição juntos...",additionalHint:"Debaixo da sua almofada favorita, tem uma caixinha te esperando 💝"},l=()=>{s<c.length-1?a(s+1):i(!0)},u=()=>{s>0&&a(s-1)};p.useEffect(()=>{if(n){const h=setTimeout(()=>{i(!1)},5e3);return()=>clearTimeout(h)}},[n]);const d=h=>h.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"});return e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col items-center justify-center px-4",children:[e.jsx(y.button,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},onClick:r,className:"absolute top-4 left-4 glass-effect rounded-full p-3 hover:bg-white hover:bg-opacity-20 transition-all duration-200",children:e.jsx(je,{className:"w-6 h-6"})}),e.jsx("div",{className:"max-w-2xl w-full text-center",children:e.jsx(D,{mode:"wait",children:n?e.jsxs(y.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"glass-effect rounded-3xl p-8 text-center",children:[e.jsx("div",{className:"text-8xl mb-6",children:"🎆"}),e.jsx("h2",{className:"text-4xl font-serif font-bold text-gradient mb-4",children:"Feliz Aniversário de 1 Ano!"}),e.jsx("p",{className:"text-xl text-gray-200 mb-6",children:"Que venham muitos anos de amor, estrelas e momentos especiais juntos!"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[e.jsx(L,{className:"w-8 h-8 text-red-400 animate-pulse"}),e.jsxs("span",{className:"text-2xl font-serif",children:[t.person1," & ",t.person2]}),e.jsx(L,{className:"w-8 h-8 text-red-400 animate-pulse"})]}),e.jsxs("div",{className:"flex items-center justify-center text-gray-400 mb-6",children:[e.jsx(te,{className:"w-5 h-5 mr-2"}),e.jsxs("span",{children:[d(o)," - ",d(new Date)]})]}),e.jsx("button",{onClick:r,className:"star-button",children:"Voltar às Estrelas"})]}):e.jsxs(y.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5},className:"glass-effect rounded-3xl p-8 mb-8",children:[e.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:c[s].emoji}),e.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-gradient mb-6",children:c[s].title}),e.jsx("p",{className:"text-lg text-gray-200 leading-relaxed mb-8",children:c[s].content}),s===c.length-1&&e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"glass-effect rounded-2xl p-4",children:[e.jsx(W,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Pista do Tesouro:"}),e.jsx("p",{className:"text-sm text-gray-300",children:m.hint})]}),e.jsxs("div",{className:"glass-effect rounded-2xl p-4",children:[e.jsx(Ne,{className:"w-6 h-6 text-red-400 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Dica Extra:"}),e.jsx("p",{className:"text-sm text-gray-300",children:m.additionalHint})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:u,disabled:s===0,className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${s===0?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:"Anterior"}),e.jsx("div",{className:"flex space-x-2",children:c.map((h,g)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${g===s?"bg-yellow-400":"bg-gray-600"}`},g))}),e.jsx("button",{onClick:l,className:"star-button",children:s===c.length-1?"Finalizar":"Próximo"})]})]},s)})}),e.jsxs(y.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1},className:"max-w-md glass-effect rounded-2xl p-6 mt-8 text-center",children:[e.jsx(K,{className:"w-6 h-6 text-blue-400 mx-auto mb-3"}),e.jsx("h3",{className:"font-serif font-semibold mb-3",children:"Nossa Playlist Especial"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Criei uma playlist com todas as músicas que marcaram nossa história. Que tal escutarmos juntos enquanto você procura sua surpresa?"}),e.jsx("div",{className:"text-xs text-gray-400 italic",children:'"Every star in the sky reminds me of you" ✨'})]}),n&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(20)].map((h,g)=>e.jsx(y.div,{initial:{x:Math.random()*window.innerWidth,y:window.innerHeight,scale:0},animate:{y:Math.random()*window.innerHeight*.3,scale:[0,1,0],opacity:[0,1,0]},transition:{duration:2,delay:Math.random()*2,repeat:1/0,repeatDelay:Math.random()*3},className:"absolute text-4xl",style:{color:["#FFD700","#FF69B4","#00CED1","#FF6347","#98FB98"][Math.floor(Math.random()*5)]},children:"✨"},g))})]})},ae=()=>{const r=p.useRef(null),t=p.useRef(null),o=p.useRef([]);return p.useEffect(()=>{const s=r.current,a=s.getContext("2d"),n=()=>{s.width=window.innerWidth,s.height=window.innerHeight};n(),window.addEventListener("resize",n);class i{constructor(){this.reset(),this.y=Math.random()*s.height,this.fadeDelay=Math.random()*600,this.fadeStart=Date.now()+this.fadeDelay,this.fadingOut=!1}reset(){this.x=Math.random()*s.width,this.y=-10,this.z=Math.random()*1e3,this.speed=.2+Math.random()*1,this.opacity=Math.random()*.5+.5,this.size=Math.random()*2+1,this.twinkle=Math.random()*.02+.005,this.twinklePhase=Math.random()*Math.PI*2}update(){this.y+=this.speed,this.twinklePhase+=this.twinkle,this.y>s.height+10&&this.reset(),this.opacity=.3+Math.sin(this.twinklePhase)*.3}draw(u){u.save();const d=u.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size*2);d.addColorStop(0,`rgba(255, 255, 255, ${this.opacity})`),d.addColorStop(.4,`rgba(255, 215, 0, ${this.opacity*.8})`),d.addColorStop(1,"rgba(255, 215, 0, 0)"),u.fillStyle=d,u.beginPath(),u.arc(this.x,this.y,this.size,0,Math.PI*2),u.fill(),this.opacity>.7&&(u.strokeStyle=`rgba(255, 255, 255, ${this.opacity*.5})`,u.lineWidth=.5,u.beginPath(),u.moveTo(this.x-this.size*2,this.y),u.lineTo(this.x+this.size*2,this.y),u.moveTo(this.x,this.y-this.size*2),u.lineTo(this.x,this.y+this.size*2),u.stroke()),u.restore()}}const c=Math.min(150,Math.floor(s.width*s.height/8e3));o.current=Array.from({length:c},()=>new i);const m=()=>{a.clearRect(0,0,s.width,s.height);const l=a.createLinearGradient(0,0,0,s.height);l.addColorStop(0,"rgba(15, 15, 35, 0.1)"),l.addColorStop(.5,"rgba(26, 26, 46, 0.05)"),l.addColorStop(1,"rgba(22, 33, 62, 0.1)"),a.fillStyle=l,a.fillRect(0,0,s.width,s.height),o.current.forEach(u=>{u.update(),u.draw(a)}),t.current=requestAnimationFrame(m)};return m(),()=>{window.removeEventListener("resize",n),t.current&&cancelAnimationFrame(t.current)}},[]),e.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-0",style:{background:"transparent",mixBlendMode:"screen"}})},Re=()=>{const[r,t]=p.useState(!1),[o,s]=p.useState(!1),[a,n]=p.useState(!1);p.useRef(null);const i={title:"Clair de Lune",artist:"Claude Debussy",description:"Uma melodia suave para acompanhar nossa jornada estelar"};p.useEffect(()=>{const d=()=>{try{const h=new(window.AudioContext||window.webkitAudioContext),g=(j,x,f)=>{const I=h.createOscillator(),w=h.createGain();I.connect(w),w.connect(h.destination),I.frequency.setValueAtTime(j,f),w.gain.setValueAtTime(0,f),w.gain.linearRampToValueAtTime(.02,f+.1),w.gain.linearRampToValueAtTime(0,f+x),I.start(f),I.stop(f+x)},b=()=>{if(r&&!o){const j=h.currentTime,x=[220,330,440,523,659],f=x[Math.floor(Math.random()*x.length)];g(f,2,j)}},v=setInterval(()=>{Math.random()>.7&&b()},12e3);return()=>{clearInterval(v),h.close()}}catch{console.log("Audio context not supported")}};if(r)return d()},[r,o]);const c=()=>{t(!r),r||(n(!0),setTimeout(()=>n(!1),3e3))},m=()=>{s(!o)},l=()=>{if(!o)try{const d=new(window.AudioContext||window.webkitAudioContext),h=d.createOscillator(),g=d.createGain();h.connect(g),g.connect(d.destination),h.frequency.setValueAtTime(800,d.currentTime),h.frequency.exponentialRampToValueAtTime(400,d.currentTime+.1),g.gain.setValueAtTime(.1,d.currentTime),g.gain.exponentialRampToValueAtTime(.001,d.currentTime+.1),h.start(d.currentTime),h.stop(d.currentTime+.1)}catch{console.log("Audio not supported")}},u=()=>{if(!o)try{const d=new(window.AudioContext||window.webkitAudioContext),h=d.createOscillator(),g=d.createGain();h.connect(g),g.connect(d.destination),h.frequency.setValueAtTime(523,d.currentTime),h.frequency.setValueAtTime(659,d.currentTime+.1),h.frequency.setValueAtTime(784,d.currentTime+.2),g.gain.setValueAtTime(.05,d.currentTime),g.gain.exponentialRampToValueAtTime(.001,d.currentTime+.5),h.start(d.currentTime),h.stop(d.currentTime+.5)}catch{console.log("Audio not supported")}};return p.useEffect(()=>{const d=()=>u(),h=()=>l();document.addEventListener("starClick",d);const g=document.querySelectorAll("button");return g.forEach(b=>{b.addEventListener("click",h)}),()=>{document.removeEventListener("starClick",d),g.forEach(b=>{b.removeEventListener("click",h)})}},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed top-4 right-4 z-50 flex space-x-2",children:[e.jsx(y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:c,className:`glass-effect rounded-full p-3 transition-all duration-300 ${r?"bg-yellow-400 bg-opacity-20 text-yellow-400":"text-gray-400 hover:text-white"}`,children:e.jsx(K,{className:"w-5 h-5"})}),e.jsx(y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m,className:`glass-effect rounded-full p-3 transition-all duration-300 ${o?"bg-red-400 bg-opacity-20 text-red-400":"text-gray-400 hover:text-white"}`,children:o?e.jsx(Ce,{className:"w-5 h-5"}):e.jsx(we,{className:"w-5 h-5"})})]}),e.jsx(D,{children:a&&e.jsxs(y.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},className:"fixed top-20 right-4 z-40 glass-effect rounded-2xl p-4 max-w-xs",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx(K,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:i.title}),e.jsx("p",{className:"text-xs text-gray-400",children:i.artist})]})]}),e.jsx("p",{className:"text-xs text-gray-300 mt-2",children:i.description}),e.jsx("div",{className:"flex space-x-1 mt-3",children:[...Array(8)].map((d,h)=>e.jsx(y.div,{className:"w-1 bg-yellow-400 rounded-full",animate:{height:r?[4,16,8,20,6,14,10,18]:[4,4,4,4,4,4,4,4]},transition:{duration:1,repeat:1/0,delay:h*.1},style:{height:"4px"}},h))})]})}),r&&!o&&e.jsx("div",{className:"fixed bottom-4 right-4 z-40",children:e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"glass-effect rounded-full p-2",children:e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{children:"Ambiente sonoro ativo"})]})})})]})};class Le{constructor(){this.nasaAPIKey="DEMO_KEY",this.ipGeolocationKey="YOUR_KEY",this.cache=new Map,this.nasaURL="https://api.nasa.gov/planetary/apod",this.ipGeoURL="https://api.ipgeolocation.io/astronomy",this.astronomyURL="https://api.astronomyapi.com/api/v1",this.hipparcosStars=this.loadHipparcosData(),this.starCache=new Map,this.constellationCache=new Map}loadHipparcosData(){return[{hip:677,name:"Alpheratz",ra:2.097,dec:29.09,mag:2.06,spectrum:"B8IVpMnHg",constellation:"Andromeda"},{hip:746,name:"Caph",ra:2.294,dec:59.15,mag:2.27,spectrum:"F2III-IV",constellation:"Cassiopeia"},{hip:1067,name:"Algenib",ra:3.308,dec:15.183,mag:2.83,spectrum:"B2IV",constellation:"Pegasus"},{hip:3179,name:"Schedar",ra:10.127,dec:56.537,mag:2.23,spectrum:"K0IIIa",constellation:"Cassiopeia"},{hip:3419,name:"Mirach",ra:11.221,dec:35.62,mag:2.06,spectrum:"M0+IIIab",constellation:"Andromeda"},{hip:4427,name:"Gamma Cas",ra:14.177,dec:60.717,mag:2.47,spectrum:"B0.5IVe",constellation:"Cassiopeia"},{hip:5447,name:"Diphda",ra:17.574,dec:-17.987,mag:2.04,spectrum:"K0III",constellation:"Cetus"},{hip:7588,name:"Almaak",ra:24.499,dec:42.329,mag:2.26,spectrum:"K3-IIb",constellation:"Andromeda"},{hip:8645,name:"Hamal",ra:31.793,dec:23.463,mag:2,spectrum:"K2IIICa-1",constellation:"Aries"},{hip:9884,name:"Polaris",ra:37.954,dec:89.264,mag:1.98,spectrum:"F7:Ib-IIv",constellation:"Ursa Minor"},{hip:11767,name:"Sheratan",ra:28.66,dec:20.808,mag:2.64,spectrum:"A5V",constellation:"Aries"},{hip:14135,name:"Mira",ra:34.837,dec:-2.978,mag:3.04,spectrum:"M7IIIe",constellation:"Cetus"},{hip:15863,name:"Aldebaran",ra:68.98,dec:16.509,mag:.85,spectrum:"K5+III",constellation:"Taurus"},{hip:17702,name:"Rigel",ra:78.634,dec:-8.202,mag:.13,spectrum:"B8Ia",constellation:"Orion"},{hip:21421,name:"Elnath",ra:81.573,dec:28.608,mag:1.68,spectrum:"B7III",constellation:"Taurus"},{hip:24436,name:"Capella",ra:79.172,dec:45.998,mag:.08,spectrum:"G5III+G0III",constellation:"Auriga"},{hip:25336,name:"Bellatrix",ra:81.283,dec:6.35,mag:1.64,spectrum:"B2III",constellation:"Orion"},{hip:25428,name:"Mintaka",ra:83.002,dec:-.299,mag:2.23,spectrum:"O9.5II",constellation:"Orion"},{hip:25930,name:"Alnilam",ra:84.053,dec:-1.202,mag:1.7,spectrum:"B0Ia",constellation:"Orion"},{hip:26311,name:"Alnitak",ra:85.19,dec:-1.943,mag:1.77,spectrum:"O9.5Ib",constellation:"Orion"},{hip:27989,name:"Betelgeuse",ra:88.793,dec:7.407,mag:.42,spectrum:"M1-M2Ia-Iab",constellation:"Orion"},{hip:30438,name:"Canopus",ra:95.988,dec:-52.696,mag:-.74,spectrum:"A9II",constellation:"Carina"},{hip:32349,name:"Sirius",ra:101.287,dec:-16.716,mag:-1.46,spectrum:"A1V",constellation:"Canis Major"},{hip:34444,name:"Procyon",ra:114.825,dec:5.225,mag:.34,spectrum:"F5IV-V",constellation:"Canis Minor"},{hip:37279,name:"Pollux",ra:116.329,dec:28.026,mag:1.14,spectrum:"K0IIIb",constellation:"Gemini"},{hip:36850,name:"Castor",ra:113.65,dec:31.888,mag:1.57,spectrum:"A1V+A2Vm",constellation:"Gemini"},{hip:49669,name:"Regulus",ra:152.093,dec:11.967,mag:1.35,spectrum:"B8IVn",constellation:"Leo"},{hip:65474,name:"Spica",ra:201.298,dec:-11.161,mag:.97,spectrum:"B1III-IV+B2V",constellation:"Virgo"},{hip:69673,name:"Arcturus",ra:213.915,dec:19.182,mag:-.05,spectrum:"K1.5IIIFe-0.5",constellation:"Boötes"},{hip:80763,name:"Antares",ra:247.352,dec:-26.432,mag:1.09,spectrum:"M1.5Iab-Ib",constellation:"Scorpius"},{hip:91262,name:"Vega",ra:279.234,dec:38.784,mag:.03,spectrum:"A0Va",constellation:"Lyra"},{hip:97649,name:"Altair",ra:297.696,dec:8.868,mag:.77,spectrum:"A7V",constellation:"Aquila"},{hip:102098,name:"Deneb",ra:310.358,dec:45.28,mag:1.25,spectrum:"A2Ia",constellation:"Cygnus"},{hip:113963,name:"Fomalhaut",ra:344.413,dec:-29.622,mag:1.16,spectrum:"A3Va",constellation:"Piscis Austrinus"}]}async getUserLocationPrecise(){const t="precise_location";if(this.cache.has(t))return this.cache.get(t);try{const o=await this.getNavigatorLocation(),a=await(await fetch(`${this.ipGeoURL}?apiKey=${this.ipGeolocationKey}&lat=${o.latitude}&long=${o.longitude}`)).json(),n={latitude:o.latitude,longitude:o.longitude,city:a.city||"Localização",country:a.country_name||"Terra",timezone:a.timezone_name||"UTC",sunrise:a.sunrise,sunset:a.sunset,moonrise:a.moonrise,moonset:a.moonset,moon_phase:a.moon_phase};return this.cache.set(t,n),n}catch(o){return console.log("Usando localização fallback:",o),this.getFallbackLocation()}}getNavigatorLocation(){return new Promise((t,o)=>{navigator.geolocation||o(new Error("Geolocalização não suportada")),navigator.geolocation.getCurrentPosition(s=>t({latitude:s.coords.latitude,longitude:s.coords.longitude}),s=>o(s),{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})}async generateRealisticSky(t,o){const s=`realistic_sky_${t.toISOString().split("T")[0]}_${Math.round(o.latitude)}_${Math.round(o.longitude)}`;if(this.starCache.has(s))return this.starCache.get(s);const a=this.dateToJulian(t),n=this.calculateLocalSiderealTime(a,o.longitude),i=this.hipparcosStars.map(l=>{const u=this.calculateStarPosition(l,n,o.latitude);return{...l,position:u.position,visible:u.altitude>-10,altitude:u.altitude,azimuth:u.azimuth,brightness:this.magnitudeToBrightness(l.mag),color:this.spectrumToColor(l.spectrum),size:this.magnitudeToSize(l.mag)}}).filter(l=>l.visible),c=this.generateBackgroundStars(1500,n,o.latitude),m=[...i,...c];return this.starCache.set(s,m),m}generateBackgroundStars(t,o,s){const a=[];for(let n=0;n<t;n++){const i=this.generateRealisticMagnitude(),c=Math.random()*24,m=(Math.random()-.5)*180,l=this.calculateStarPosition({ra:c,dec:m},o,s);l.altitude>-5&&a.push({hip:1e5+n,name:`Star${n}`,ra:c,dec:m,mag:i,position:l.position,visible:!0,altitude:l.altitude,azimuth:l.azimuth,brightness:this.magnitudeToBrightness(i),color:this.generateRealisticColor(),size:this.magnitudeToSize(i),constellation:"Background"})}return a}generateRealisticMagnitude(){const t=Math.random();return t<.01?1+Math.random()*2:t<.05?3+Math.random()*1:t<.2?4+Math.random()*1:5+Math.random()*2}generateRealisticColor(){const t=["#9BB0FF","#AABFFF","#CAD7FF","#F8F7FF","#FFF4EA","#FFCC6F","#FF9500"],o=[3e-5,.13,.6,3,7.6,12.1,76.45],s=Math.random()*100;let a=0;for(let n=0;n<o.length;n++)if(a+=o[n],s<=a)return t[n];return t[t.length-1]}magnitudeToBrightness(t){return Math.max(0,Math.min(1,(6-t)/8))}magnitudeToSize(t){return t<0?3:t<1?2.5:t<2?2:t<3?1.5:t<4?1.2:t<5?1:.8}spectrumToColor(t){const o=t[0];return{O:"#9BB0FF",B:"#AABFFF",A:"#CAD7FF",F:"#F8F7FF",G:"#FFF4EA",K:"#FFCC6F",M:"#FF9500"}[o]||"#FFFFFF"}async getRealPlanetData(t,o){const s=`planets_real_${t.toISOString().split("T")[0]}`;if(this.cache.has(s))return this.cache.get(s);try{const a=await this.calculatePlanetaryPositions(t,o);return this.cache.set(s,a),a}catch(a){return console.log("Usando dados planetários padrão:",a),this.getDefaultPlanetData(t,o)}}async calculatePlanetaryPositions(t,o){const s=this.dateToJulian(t),a=(s-2451545)/36525,n=this.calculateLocalSiderealTime(s,o.longitude),i=[],c={Mercury:{L0:252.2503235,L1:149472.67411175,a:.387098,e:.205635,i:7.005,color:"#8C7853"},Venus:{L0:181.97980085,L1:58517.81538729,a:.723332,e:.006773,i:3.39458,color:"#FFC649"},Mars:{L0:355.43299958,L1:19140.30268499,a:1.523688,e:.093405,i:1.84969,color:"#CD5C5C"},Jupiter:{L0:34.39644051,L1:3034.90567464,a:5.202887,e:.048775,i:1.30327,color:"#D8CA9D"},Saturn:{L0:50.07571329,L1:1222.11494724,a:9.536676,e:.055723,i:2.48599,color:"#FAD5A5"}};for(const[m,l]of Object.entries(c))try{const u=(l.L0+l.L1*a)%360,d=this.calculatePlanetPosition(u,l,n,o.latitude);d.altitude>-5&&i.push({name:m,position:d.position,color:l.color,magnitude:this.calculatePlanetMagnitude(m,d.distance),visible:!0,altitude:d.altitude,azimuth:d.azimuth,distance:d.distance,type:"planet"})}catch(u){console.log(`Erro calculando ${m}:`,u)}return i}calculatePlanetMagnitude(t,o){return({Mercury:-.4,Venus:-4.4,Mars:-2.9,Jupiter:-2.9,Saturn:-.3}[t]||0)+5*Math.log10(o/1)}async getRealNebulaData(t,o){const s=[{name:"M1 - Nebulosa do Caranguejo",ra:5.575,dec:22.017,type:"supernova",magnitude:8.4},{name:"M8 - Nebulosa da Lagoa",ra:18.067,dec:-24.383,type:"emission",magnitude:6},{name:"M16 - Nebulosa da Águia",ra:18.308,dec:-13.817,type:"emission",magnitude:6.4},{name:"M17 - Nebulosa Ômega",ra:18.342,dec:-16.183,type:"emission",magnitude:7},{name:"M20 - Nebulosa Trífida",ra:18.033,dec:-23.033,type:"emission",magnitude:9},{name:"M27 - Nebulosa Dumbell",ra:19.992,dec:22.717,type:"planetary",magnitude:7.5},{name:"M42 - Nebulosa de Orion",ra:5.583,dec:-5.391,type:"emission",magnitude:4},{name:"M43 - Nebulosa De Mairan",ra:5.592,dec:-5.267,type:"emission",magnitude:9},{name:"M57 - Nebulosa do Anel",ra:18.887,dec:33.033,type:"planetary",magnitude:8.8},{name:"M78 - Nebulosa de Reflexão",ra:5.783,dec:.067,type:"reflection",magnitude:8.3}],a=this.dateToJulian(t),n=this.calculateLocalSiderealTime(a,o.longitude);return s.map(i=>{const c=this.calculateStarPosition(i,n,o.latitude);return{...i,position:c.position,visible:c.altitude>0&&i.magnitude<9,altitude:c.altitude,azimuth:c.azimuth,color:this.getNebulaColor(i.type),size:this.getNebulaSizeFromMagnitude(i.magnitude)}}).filter(i=>i.visible)}getNebulaColor(t){return{emission:"#FF6B9D",planetary:"#40E0D0",reflection:"#87CEEB",supernova:"#FFD700",dark:"#2F2F2F"}[t]||"#8A2BE2"}getNebulaSizeFromMagnitude(t){return Math.max(.5,(10-t)/2)}async getPreciseMoonData(t,o){const s=`moon_precise_${t.toISOString().split("T")[0]}`;if(this.cache.has(s))return this.cache.get(s);const a=this.calculatePreciseMoonPosition(t,o);return this.cache.set(s,a),a}calculatePreciseMoonPosition(t,o){const s=this.dateToJulian(t),a=(s-2451545)/36525,n=this.calculateLocalSiderealTime(s,o.longitude),i=(218.3164591+481267.88134236*a-.0013268*a*a)%360,c=(134.9634114+477198.8676313*a+.008997*a*a)%360,m=c*Math.PI/180,l=1.274*Math.sin((2*i-c)*Math.PI/180),u=.658*Math.sin(2*i*Math.PI/180),d=-.186*Math.sin(m),h=i+l+u+d,g=(93.2720993+483202.0175273*a-.0034029*a*a)%360,b=5.128*Math.sin(g*Math.PI/180),v=23.4393-4e-7*a,j=h*Math.PI/180,x=b*Math.PI/180,f=v*Math.PI/180,I=Math.atan2(Math.sin(j)*Math.cos(f)-Math.tan(x)*Math.sin(f),Math.cos(j))*180/Math.PI/15,w=Math.asin(Math.sin(x)*Math.cos(f)+Math.cos(x)*Math.sin(f)*Math.sin(j))*180/Math.PI,M=this.calculateStarPosition({ra:I,dec:w},n,o.latitude),F=this.calculateMoonPhase(s);return{position:M.position,altitude:M.altitude,azimuth:M.azimuth,phase:F.illumination,phaseName:F.phaseName,age:F.age,visible:M.altitude>-6,distance:384400,angularSize:.52}}calculateMoonPhase(t){const o=24515501e-1,s=29.53058868,n=(t-o)/s,i=n-Math.floor(n),c=i*s,m=.5*(1-Math.cos(2*Math.PI*i));let l;return c<1.84566?l="Nova":c<5.53699?l="Crescente":c<9.22831?l="Quarto Crescente":c<12.91963?l="Gibosa Crescente":c<16.61096?l="Cheia":c<20.30228?l="Gibosa Minguante":c<23.99361?l="Quarto Minguante":c<27.68493?l="Minguante":l="Nova",{illumination:m,phaseName:l,age:c}}async getDayNightMode(t,o){const s=await this.calculatePreciseSunPosition(t,o);return s.altitude>6?"day":s.altitude>-6?"twilight":s.altitude>-12?"nautical_twilight":s.altitude>-18?"astronomical_twilight":"night"}async calculatePreciseSunPosition(t,o){const s=this.dateToJulian(t),a=(s-2451545)/36525,n=this.calculateLocalSiderealTime(s,o.longitude),i=(280.46646+36000.76983*a+3032e-7*a*a)%360,m=(357.52911+35999.05029*a-1537e-7*a*a)%360*Math.PI/180,l=(1.914602-.004817*a-14e-6*a*a)*Math.sin(m)+(.019993-101e-6*a)*Math.sin(2*m)+289e-6*Math.sin(3*m),u=i+l,h=(23.439291-.0130042*a-164e-8*a*a+504e-9*a*a*a)*Math.PI/180,g=u*Math.PI/180,b=Math.atan2(Math.cos(h)*Math.sin(g),Math.cos(g))*180/Math.PI/15,v=Math.asin(Math.sin(h)*Math.sin(g))*180/Math.PI;return this.calculateStarPosition({ra:b,dec:v},n,o.latitude)}dateToJulian(t){const o=Math.floor((14-(t.getMonth()+1))/12),s=t.getFullYear()+4800-o,a=t.getMonth()+1+12*o-3;let n=t.getDate()+Math.floor((153*a+2)/5)+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)-32045;const i=t.getHours()+t.getMinutes()/60+t.getSeconds()/3600;return n+(i-12)/24}calculateLocalSiderealTime(t,o){const s=(t-2451545)/36525;return(280.46061837+360.98564736629*(t-2451545)+387933e-9*s*s-s*s*s/3871e4+o)%360/15}calculateStarPosition(t,o,s){const a=(o-t.ra)*15,n=s*Math.PI/180,i=t.dec*Math.PI/180,c=a*Math.PI/180,m=Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos(c),l=Math.asin(Math.max(-1,Math.min(1,m)))*180/Math.PI,u=(Math.sin(i)-Math.sin(n)*m)/(Math.cos(n)*Math.cos(Math.asin(m)));let d=Math.acos(Math.max(-1,Math.min(1,u)))*180/Math.PI;Math.sin(c)>0&&(d=360-d);const h=20,g=l*Math.PI/180,b=(d-180)*Math.PI/180,v=h*Math.cos(g)*Math.sin(b),j=h*Math.sin(g),x=-h*Math.cos(g)*Math.cos(b);return{position:[v,j,x],altitude:l,azimuth:d,distance:h}}calculatePlanetPosition(t,o,s,a){const i=t*Math.PI/180,c=23.4393*Math.PI/180,m=Math.atan2(Math.sin(i)*Math.cos(c),Math.cos(i))*180/Math.PI/15,l=Math.asin(Math.sin(i)*Math.sin(c))*180/Math.PI;return{...this.calculateStarPosition({ra:m,dec:l},s,a),distance:o.a}}getFallbackLocation(){return{latitude:-3.5133,longitude:-39.5781,city:"Itapipoca",country:"Brasil"}}getDefaultPlanetData(t,o){return[{name:"Venus",position:[5,2,-8],color:"#FFC649",magnitude:-4,visible:!0,type:"planet"},{name:"Mars",position:[-7,1,-6],color:"#CD5C5C",magnitude:.7,visible:!0,type:"planet"},{name:"Jupiter",position:[3,4,-12],color:"#D8CA9D",magnitude:-2.2,visible:!0,type:"planet"},{name:"Saturn",position:[-4,3,-10],color:"#FAD5A5",magnitude:.4,visible:!0,type:"planet"}]}getStarsWithMessages(){return["Vega","Sirius","Polaris","Betelgeuse","Rigel","Aldebaran","Capella","Arcturus","Spica","Antares","Altair","Deneb","Pollux","Castor","Regulus","Procyon","Canopus","Fomalhaut"]}hasSpecialMessage(t){return this.getStarsWithMessages().includes(t)}}const Ee=new Le,Be=({specialDate:r,onModeChange:t,currentMode:o,location:s})=>{const[a,n]=p.useState(!1),[i,c]=p.useState(new Date),[m,l]=p.useState(null),[u,d]=p.useState(!1);p.useEffect(()=>{(async()=>{if(s){const f=a?i:r,I=Ee.calculateSunPosition(f,s);l(I);const w=I.altitude>-6;t(w?"day":"night")}})()},[a,i,r,s,t]),p.useEffect(()=>{let x;return a&&(x=setInterval(()=>{c(new Date)},6e4)),()=>{x&&clearInterval(x)}},[a]);const h=()=>{n(!a),a||c(new Date)},g=()=>{const f=(a?i:r).getHours();return f>=6&&f<12?"Manhã":f>=12&&f<18?"Tarde":f>=18&&f<22?"Noite":"Madrugada"},b=()=>{if(!m)return"Calculando...";const x=m.altitude;return x>50?"Sol Alto":x>30?"Sol Médio":x>0?"Sol Baixo":x>-6?"Crepúsculo":x>-12?"Crepúsculo Náutico":x>-18?"Crepúsculo Astronômico":"Noite"},v=x=>x.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),j=x=>x.toLocaleDateString("pt-BR",{day:"numeric",month:"short",year:"numeric"});return e.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40",children:[e.jsxs(y.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"glass-effect rounded-2xl p-4 min-w-80",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[o==="day"?e.jsx(J,{className:"w-6 h-6 text-yellow-400"}):e.jsx(oe,{className:"w-6 h-6 text-blue-300"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold",children:o==="day"?"Modo Diurno":"Modo Noturno"}),e.jsx("p",{className:"text-xs text-gray-400",children:g()})]})]}),e.jsx("button",{onClick:()=>d(!u),className:"p-2 rounded-lg hover:bg-white hover:bg-opacity-10 transition-all duration-200",children:u?e.jsx(ve,{className:"w-4 h-4"}):e.jsx(se,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-black bg-opacity-20 rounded-lg",children:[e.jsx(_,{className:"w-4 h-4 mx-auto mb-1 text-blue-300"}),e.jsx("div",{className:"text-xs text-gray-300",children:a?"Tempo Real":"Data Especial"}),e.jsx("div",{className:"text-sm font-semibold",children:v(a?i:r)})]}),e.jsxs("div",{className:"text-center p-2 bg-black bg-opacity-20 rounded-lg",children:[e.jsx(J,{className:"w-4 h-4 mx-auto mb-1 text-yellow-400"}),e.jsx("div",{className:"text-xs text-gray-300",children:"Posição Solar"}),e.jsx("div",{className:"text-sm font-semibold",children:b()})]})]}),e.jsx(D,{children:u&&e.jsx(y.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"border-t border-white border-opacity-20 pt-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"w-4 h-4 text-blue-300"}),e.jsx("span",{className:"text-sm",children:"Tempo Real"})]}),e.jsx("button",{onClick:h,className:`relative w-12 h-6 rounded-full transition-all duration-300 ${a?"bg-blue-500":"bg-gray-600"}`,children:e.jsx(y.div,{animate:{x:a?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]}),s&&e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[e.jsx(W,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.city,", ",s.country]})]}),e.jsx("div",{className:"text-center text-xs text-gray-400",children:j(a?i:r)}),m&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center p-2 bg-black bg-opacity-20 rounded",children:[e.jsx("div",{className:"text-gray-400",children:"Altitude"}),e.jsxs("div",{className:"font-semibold",children:[m.altitude.toFixed(1),"°"]})]}),e.jsxs("div",{className:"text-center p-2 bg-black bg-opacity-20 rounded",children:[e.jsx("div",{className:"text-gray-400",children:"Azimute"}),e.jsxs("div",{className:"font-semibold",children:[m.azimuth.toFixed(1),"°"]})]})]})]})})})]}),e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${o==="day"?"bg-yellow-400":"bg-blue-300"} animate-pulse`})})]})};function Ve(){const[r,t]=p.useState("welcome"),[o,s]=p.useState(null),[a,n]=p.useState(!1),[i,c]=p.useState([]),[m,l]=p.useState(window.innerWidth<768),[u,d]=p.useState("night"),[h,g]=p.useState(null),[b,v]=p.useState(!0),[j,x]=p.useState({stars:[],planets:[],nebulae:[],moon:null}),f=new Date("2024-07-26"),I={person1:"Gabriel",person2:"Clarisse"},w={Vega:{title:"Nossa Primeira Música ✨",content:"Vega, a estrela mais brilhante da Lira celestial, estava tocando nossa música quando nos conhecemos. Cada nota dessa estrela azul-branca ecoa o ritmo do meu coração quando penso em você.",emoji:"🎵",astronomicalInfo:"Vega é uma estrela da classe A0V, localizada a 25 anos-luz de distância na constelação da Lira."},Sirius:{title:"A Estrela Mais Brilhante 💫",content:"Sirius, a estrela mais brilhante do céu noturno, testemunhou nosso primeiro beijo. Nem mesmo seu brilho intenso consegue superar a luz que você trouxe para minha vida.",emoji:"💋",astronomicalInfo:"Sirius é um sistema binário a 8.6 anos-luz, sendo a estrela mais brilhante vista da Terra."},Polaris:{title:"Minha Estrela Guia ⭐",content:"Como Polaris guia os navegadores há séculos, você é minha direção verdadeira. Não importa onde eu esteja perdido, você sempre me mostra o caminho para casa.",emoji:"🧭",astronomicalInfo:"Polaris é uma supergigante amarela localizada muito próxima ao polo norte celestial."},Betelgeuse:{title:"Gigante Vermelha do Amor 🌟",content:"Betelgeuse, a gigante vermelha de Orion, pode explodir em supernova a qualquer momento. Mas nosso amor já explodiu em algo ainda mais brilhante e eterno.",emoji:"❤️",astronomicalInfo:"Betelgeuse é uma das maiores estrelas conhecidas, uma supergigante vermelha semi-irregular."},Rigel:{title:"Brilho Azul da Paixão 💙",content:"Rigel, a estrela azul-branca mais brilhante de Orion, arde com a mesma intensidade da paixão que sinto por você. Uma chama azul que nunca se apaga.",emoji:"🔥",astronomicalInfo:"Rigel é um sistema estelar múltiplo com uma supergigante azul como estrela primária."},Aldebaran:{title:"Olho do Touro 👁️",content:"Aldebaran, o olho vermelho do Touro, me lembra de como seus olhos capturam toda a luz do universo. Um olhar seu vale mais que todas as estrelas juntas.",emoji:"👁️",astronomicalInfo:"Aldebaran é uma gigante laranja tipo K5 III, a estrela mais brilhante da constelação de Touro."},Capella:{title:"A Cabra Celestial 🐐",content:"Capella, na verdade um sistema de quatro estrelas, simboliza como nossa união multiplica nossa força. Juntos, brilhamos mais que qualquer estrela sozinha.",emoji:"✨",astronomicalInfo:"Capella é um sistema estelar complexo com quatro componentes principais na constelação de Auriga."},Arcturus:{title:"Guardião da Ursa 🐻",content:"Arcturus, a quarta estrela mais brilhante, é um guardião eterno. Como ela protege a Ursa Maior, eu prometo proteger nosso amor para sempre.",emoji:"🛡️",astronomicalInfo:"Arcturus é uma gigante vermelha tipo K1.5 IIIFe-0.5, notable por seu movimento próprio elevado."},Spica:{title:"Espiga de Virgem 🌾",content:"Spica, na verdade duas estrelas orbitando uma à outra, representa nossa dança cósmica. Dois corações que giram em perfeita harmonia.",emoji:"💃",astronomicalInfo:"Spica é um sistema binário eclipsante com duas estrelas massivas do tipo B na constelação de Virgem."},Antares:{title:"Rival de Marte 💢",content:'Antares, cujo nome significa "rival de Marte", tem o coração que bate com a mesma intensidade do meu quando penso em você. Um amor que rivaliza com os deuses.',emoji:"❤️‍🔥",astronomicalInfo:"Antares é uma das maiores supergigantes vermelhas conhecidas, localizada na constelação de Escorpião."},Altair:{title:"Águia Veloz 🦅",content:"Altair gira tão rapidamente que se achata nos polos. É assim que meu coração dispara quando você se aproxima, acelerado e transformado pelo amor.",emoji:"💓",astronomicalInfo:"Altair é notable por sua rápida rotação, completando uma volta em cerca de 9 horas."},Deneb:{title:"Cauda do Cisne 🦢",content:"Deneb, uma das estrelas mais luminosas conhecidas, está a 2.600 anos-luz. Mesmo à essa distância impossível, ela brilha para nós, como nosso amor eterno.",emoji:"🌠",astronomicalInfo:"Deneb é uma supergigante branca extremamente luminosa, uma das estrelas mais distantes visíveis a olho nu."},Pollux:{title:"Gêmeo Imortal 👥",content:"Pollux, o gêmeo imortal que dividiu sua imortalidade com Castor, me ensina sobre sacrifício. Eu dividiria minha vida inteira com você sem hesitar.",emoji:"♊",astronomicalInfo:"Pollux é uma gigante laranja tipo K0 III e a estrela mais brilhante da constelação de Gêmeos."},Castor:{title:"Gêmeo Mortal 💫",content:"Castor nos lembra que mesmo sendo mortais, podemos criar algo eterno. Nosso amor transcende o tempo, como a lenda dos gêmeos celestiais.",emoji:"⭐",astronomicalInfo:"Castor é na verdade um sistema sêxtuplo complexo, composto por três pares de estrelas binárias."},Regulus:{title:"Coração do Leão 🦁",content:"Regulus, o coração do Leão, pulsa com realeza e nobreza. Você desperta em mim um amor digno de reis, majestoso e eterno.",emoji:"👑",astronomicalInfo:"Regulus é uma estrela azul-branca que gira tão rapidamente que está quase se desfazendo."},Procyon:{title:"Antes do Cão 🐕",content:'Procyon, que significa "antes do cão", nasce antes de Sirius. Você chegou antes de eu saber que precisava de alguém assim na minha vida.',emoji:"🌅",astronomicalInfo:"Procyon é um sistema binário com uma anã branca companheira, localizado a apenas 11.5 anos-luz."},Canopus:{title:"Navegadora do Sul 🧭",content:"Canopus, a segunda estrela mais brilhante, guiou navegadores do hemisfério sul. Você é minha navegadora na jornada da vida.",emoji:"⛵",astronomicalInfo:"Canopus é uma supergigante branca-amarela extremamente luminosa, visível principalmente do hemisfério sul."},Fomalhaut:{title:"Solitária do Sul 🐟",content:'Fomalhaut, a "boca do peixe austral", brilha sozinha em uma região escura do céu. Como eu antes de te conhecer, mas solitário.',emoji:"🐠",astronomicalInfo:"Fomalhaut é uma estrela jovem do tipo A rodeada por um disco de detritos onde planetas podem estar se formando."},Venus:{title:"Estrela da Manhã 💕",content:"Vênus, o planeta do amor, estava em conjunção especial quando nos encontramos. A própria deusa do amor abençoou nosso relacionamento desde o início.",emoji:"💕",astronomicalInfo:"Vênus é o planeta mais quente do sistema solar devido ao extremo efeito estufa."},Mars:{title:"Planeta Vermelho 🔴",content:"Marte, com sua cor vermelha como a paixão, testemunhou nossos primeiros momentos juntos. Um amor marciano que desafia a física do universo.",emoji:"🚀",astronomicalInfo:"Marte possui as maiores montanhas e os cânions mais profundos do sistema solar."},Jupiter:{title:"Rei dos Planetas 🪐",content:"Júpiter, o gigante protetor que desvia asteroides da Terra, é como meu amor por você, imenso, protetor e essencial para nossa existência.",emoji:"🛡️",astronomicalInfo:"Júpiter possui mais de 80 luas conhecidas e protege os planetas internos de impactos de cometas."},Saturn:{title:"Senhor dos Anéis 💍",content:"Saturno e seus magníficos anéis me lembram do anel que quero colocar em seu dedo. Um símbolo eterno de compromisso que gira ao redor do amor.",emoji:"💍",astronomicalInfo:"Os anéis de Saturno são compostos principalmente de gelo de água e têm apenas alguns metros de espessura."},Moon:{title:"Nossa Lua Romântica 🌙",content:"Nossa Lua, com suas fases que mudam mas sempre retornam, representa a constância do nosso amor através de todas as mudanças da vida.",emoji:"🌙",astronomicalInfo:"A Lua está se afastando da Terra cerca de 3.8 cm por ano, mas nosso amor só se aproxima mais a cada dia."},"M1 - Nebulosa do Caranguejo":{title:"Remanescente de Supernova 💥",content:"M1, resultado da explosão de uma estrela em 1054 d.C., mostra que até as explosões mais violentas podem criar beleza. Como nosso amor nasceu do caos das vidas separadas.",emoji:"💥",astronomicalInfo:"M1 contém um pulsar que gira 30 vezes por segundo, resultado da explosão de uma supernova."},"M8 - Nebulosa da Lagoa":{title:"Lagoa Estelar 🌊",content:"M8, uma lagoa cósmica onde novas estrelas nascem, é como nosso relacionamento, um berçário de sonhos e possibilidades infinitas.",emoji:"🌊",astronomicalInfo:"M8 é uma nebulosa de emissão visível a olho nu na constelação de Sagitário."},"M16 - Nebulosa da Águia":{title:"Pilares da Criação 🏛️",content:"M16 contém os famosos Pilares da Criação. Como esses pilares cósmicos, construímos dia a dia os pilares do nosso amor eterno.",emoji:"🏗️",astronomicalInfo:"Os Pilares da Criação são colunas de gás e poeira onde novas estrelas estão nascendo."},"M17 - Nebulosa Ômega":{title:"Cisne Cósmico 🦢",content:"M17, também chamada de Nebulosa do Cisne, voa graciosamente pelo espaço. Nosso amor tem a mesma elegância e graça eternas.",emoji:"🦢",astronomicalInfo:"M17 é uma das nebulosas de emissão mais massivas e luminosas conhecidas."},"M20 - Nebulosa Trífida":{title:"Três Cores do Amor 🎨",content:"M20 brilha em três cores distintas - vermelho, azul e rosa. Como nosso amor que tem todas as cores e sentimentos do universo.",emoji:"🎨",astronomicalInfo:"M20 combina uma nebulosa de emissão vermelha com uma nebulosa de reflexão azul."},"M27 - Nebulosa Dumbell":{title:"Halter Cósmico 🏋️",content:"M27, com sua forma de halter, nos lembra que o amor também é exercício, fortalece a alma e expande o coração todos os dias.",emoji:"💪",astronomicalInfo:"M27 foi a primeira nebulosa planetária descoberta, formada por uma estrela moribunda."},"M42 - Nebulosa de Orion":{title:"Berçário Estelar 🍼",content:"M42, o berçário estelar mais famoso, é onde milhares de estrelas nascem. Como nosso amor deu origem a infinitos sonhos e possibilidades.",emoji:"⭐",astronomicalInfo:"M42 é uma das nebulosas mais estudadas e fotografadas, visível a olho nu como a espada de Orion."},"M43 - Nebulosa De Mairan":{title:"Companheira de Orion ✨",content:"M43, a pequena companheira de M42, nunca se separa de sua irmã maior. Como nós, sempre juntos, sempre conectados.",emoji:"👫",astronomicalInfo:"M43 é separada da Nebulosa de Orion por uma faixa escura de poeira cósmica."},"M57 - Nebulosa do Anel":{title:"Anel de Compromisso Cósmico 💍",content:"M57 forma um anel perfeito no espaço, como o anel que simboliza nosso compromisso eterno. Um círculo sem fim, como nosso amor.",emoji:"💍",astronomicalInfo:"M57 é uma nebulosa planetária com uma anã branca central extremamente quente."},"M78 - Nebulosa de Reflexão":{title:"Espelho Cósmico 🪞",content:"M78 reflete a luz das estrelas próximas, como você reflete toda a beleza e bondade que existe no universo. Um espelho da perfeição.",emoji:"✨",astronomicalInfo:"M78 é uma nebulosa de reflexão azul iluminada por estrelas jovens e quentes."}};p.useEffect(()=>{const N=()=>{l(window.innerWidth<768)};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),p.useEffect(()=>{(async()=>{v(!0);try{console.log("🌟 Iniciando sistema astronômico...");const S=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1";let T;if(S)console.log("🚀 Modo produção (Netlify) - usando Itapipoca diretamente"),T={latitude:-3.5133,longitude:-39.5781,city:"Itapipoca",country:"Brasil",timezone:"America/Fortaleza"};else{console.log("🏠 Modo desenvolvimento - tentando geolocalização");try{const k=A.getUserLocationPrecise(),U=new Promise((qe,ce)=>setTimeout(()=>ce(new Error("Timeout")),3e3));T=await Promise.race([k,U]),console.log("📍 Localização obtida:",T.city)}catch{console.log("📍 Fallback para Itapipoca"),T={latitude:-3.5133,longitude:-39.5781,city:"Itapipoca",country:"Brasil",timezone:"America/Fortaleza"}}}if(g(T),S)console.log("🌅 Usando modo noturno fixo em produção"),d("night");else try{const k=await A.getDayNightMode(f,T);d(k==="day"?"day":"night"),console.log("🌅 Modo:",k)}catch{console.log("🌅 Fallback modo noturno"),d("night")}console.log("⭐ Gerando céu...");const re=A.generateRealisticSky(f,T),le=new Promise((k,U)=>setTimeout(()=>U(new Error("Sky timeout")),S?5e3:1e4));let P={stars:[],planets:[],nebulae:[],moon:null};try{const k=await Promise.race([re,le]);P.stars=S?k.slice(0,300):k,console.log(`✅ ${P.stars.length} estrelas carregadas`)}catch{console.log("⭐ Usando estrelas padrão mínimas"),P.stars=getDefaultStars()}if(S)P.planets=getDefaultPlanets(),P.moon=getDefaultMoon(),P.nebulae=[],console.log("🪐🌙 Usando dados padrão em produção");else try{P.planets=await A.getRealPlanetData(f,T),P.moon=await A.getPreciseMoonData(f,T),P.nebulae=await A.getRealNebulaData(f,T)}catch{P.planets=getDefaultPlanets(),P.moon=getDefaultMoon(),P.nebulae=[]}x(P),console.log("🎉 Sistema inicializado!")}catch(S){console.error("❌ Erro crítico:",S),g({latitude:-3.5133,longitude:-39.5781,city:"Itapipoca",country:"Brasil"}),d("night"),x({stars:getDefaultStars(),planets:getDefaultPlanets(),nebulae:[],moon:getDefaultMoon()})}finally{setTimeout(()=>v(!1),1e3)}})()},[]);const M=()=>{t("starmap")},F=N=>{if(console.log("⭐ Estrela clicada:",N),w[N]){s(w[N]),i.includes(N)||(c(S=>[...S,N]),console.log("🎉 Nova descoberta:",N),document.dispatchEvent(new CustomEvent("starDiscovered",{detail:N})));return}console.log("ℹ️ Estrela sem mensagem especial:",N)},E=()=>{s(null)},G=()=>{n(!0)},$=()=>{n(!1)},ne=N=>{d(N),console.log("🔄 Modo alterado para:",N)},Y=Object.keys(w).length,ie=i.length/Y*100,X=i.length>=5,z={totalStars:j.stars.length,brightStars:j.stars.filter(N=>N.mag<3).length,specialStars:Object.keys(w).length,discovered:i.length,progress:ie,visiblePlanets:j.planets.length,visibleNebulae:j.nebulae.length,moonPhase:j.moon?.phaseName||"Carregando..."};return b?e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[e.jsx(ae,{}),e.jsxs(y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center glass-effect rounded-3xl p-8 max-w-md",children:[e.jsx("div",{className:"text-8xl mb-6 animate-pulse",children:"🌌"}),e.jsx("h2",{className:"text-3xl font-serif mb-4 text-gradient",children:"Carregando o Universo"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(H,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Calibrando telescópio virtual..."})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(W,{className:"w-4 h-4 animate-bounce"}),e.jsx("span",{children:"Obtendo localização precisa..."})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(_,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{children:"Calculando posições astronômicas..."})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(q,{className:"w-4 h-4 animate-ping"}),e.jsx("span",{children:"Carregando catálogo Hipparcos..."})]})]}),e.jsx("div",{className:"mt-6 text-xs text-gray-400",children:"Preparando uma experiência astronômica real para você"})]})]}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx(ae,{}),e.jsx(Re,{}),r==="starmap"&&!a&&e.jsx(Be,{specialDate:f,onModeChange:ne,currentMode:u,location:h}),r==="starmap"&&!a&&e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed top-4 right-4 glass-effect rounded-2xl p-4 z-30",children:[e.jsx("div",{className:"text-center mb-3",children:e.jsx("h3",{className:"text-lg font-serif font-bold text-gradient",children:"Status Astronômico"})}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-yellow-400 font-bold text-lg",children:z.totalStars}),e.jsx("div",{className:"text-gray-400",children:"Estrelas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-blue-400 font-bold text-lg",children:z.brightStars}),e.jsx("div",{className:"text-gray-400",children:"Brilhantes"})]})]}),e.jsxs("div",{className:"border-t border-gray-600 pt-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{children:"Descobertas:"}),e.jsxs("span",{className:"text-pink-400 font-bold",children:[z.discovered,"/",z.specialStars]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx(y.div,{initial:{width:0},animate:{width:`${z.progress}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-pink-500 to-yellow-500 h-2 rounded-full"})}),e.jsxs("div",{className:"text-center mt-1 text-yellow-400 font-medium",children:[z.progress.toFixed(1),"%"]})]}),e.jsxs("div",{className:"text-center text-gray-400 border-t border-gray-600 pt-2",children:[e.jsxs("div",{children:["🪐 ",z.visiblePlanets," planetas"]}),e.jsxs("div",{children:["🌌 ",z.visibleNebulae," nebulosas"]}),e.jsxs("div",{children:["🌙 ",z.moonPhase]})]})]})]}),e.jsx(D,{mode:"wait",children:r==="welcome"&&e.jsx(Te,{onStart:M,coupleNames:I,specialDate:f})}),e.jsx(D,{mode:"wait",children:r==="starmap"&&!a&&e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},className:"h-screen",children:[e.jsx(ze,{onStarClick:F,discoveredMessages:i,specialDate:f,isMobile:m,dayNightMode:u,location:h,skyData:j,specialMessages:w}),X&&e.jsxs(y.button,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 star-button z-40 px-8 py-4 text-lg",onClick:G,children:[e.jsx(L,{className:"w-6 h-6 inline mr-2 animate-pulse"}),"Surpresa Final Desbloqueada!",e.jsx(B,{className:"w-6 h-6 inline ml-2 animate-bounce"})]}),!X&&e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 glass-effect rounded-2xl p-3 z-40",children:e.jsxs("div",{className:"text-sm text-center",children:[e.jsx(B,{className:"w-4 h-4 inline mr-2 text-pink-400"}),"Encontre mais ",Math.ceil(z.specialStars*.7)-z.discovered," estrelas especiais",e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"para desbloquear a surpresa final"})]})})]})}),e.jsx(D,{mode:"wait",children:a&&e.jsx(De,{onBack:$,coupleNames:I,specialDate:f,discoveredCount:i.length,totalCount:Y})}),e.jsx(D,{children:o&&e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm",onClick:E,children:e.jsxs(y.div,{initial:{scale:.7,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.7,opacity:0,y:50},transition:{type:"spring",stiffness:300,damping:30},className:"glass-effect rounded-3xl p-8 max-w-lg mx-4 relative",onClick:N=>N.stopPropagation(),children:[e.jsx("button",{onClick:E,className:"absolute top-4 right-4 p-2 rounded-full glass-effect hover:bg-white hover:bg-opacity-20 transition-all duration-200",children:"✕"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-6xl mb-3 animate-bounce",children:o.emoji}),e.jsx("div",{className:"flex justify-center space-x-2",children:[...Array(5)].map((N,S)=>e.jsx(q,{className:"w-5 h-5 text-yellow-400 animate-pulse",fill:"currentColor",style:{animationDelay:`${S*.1}s`}},S))})]}),e.jsx("h3",{className:"text-2xl font-serif font-bold text-center text-gradient mb-6",children:o.title}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-200 leading-relaxed text-lg text-center",children:o.content})}),o.astronomicalInfo&&e.jsxs("div",{className:"bg-blue-500 bg-opacity-20 rounded-xl p-4 mb-6 border border-blue-400",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(H,{className:"w-5 h-5 text-blue-400 mr-2"}),e.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Curiosidade Astronômica"})]}),e.jsx("p",{className:"text-blue-200 text-sm",children:o.astronomicalInfo})]}),e.jsxs("div",{className:"flex justify-center items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-0.5 bg-gradient-to-r from-transparent to-yellow-400"}),e.jsx(L,{className:"w-6 h-6 text-red-400 animate-pulse"}),e.jsx("div",{className:"w-12 h-0.5 bg-gradient-to-l from-transparent to-yellow-400"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:E,className:"star-button px-8 py-3",children:[e.jsx(B,{className:"w-5 h-5 inline mr-2"}),"Continue Explorando"]})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-3xl",children:[...Array(15)].map((N,S)=>e.jsx("div",{className:"absolute w-1 h-1 bg-yellow-400 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*2}s`}},S))})]})})})]})}setTimeout(()=>{const r=document.getElementById("loading");r&&(r.classList.add("hide"),setTimeout(()=>{r.remove()},500))},2e3);xe.createRoot(document.getElementById("root")).render(e.jsx(fe.StrictMode,{children:e.jsx(Ve,{})}));
